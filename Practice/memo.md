# Python 演習38問

[【Python練習問題50問+演習38問+解答】初心者から上級者まで！でPythonを極める演習38問](https://odigo.jp/%E3%80%90python%E7%B7%B4%E7%BF%92%E5%95%8F%E9%A1%8C50%E5%95%8F%E6%BC%94%E7%BF%9238%E5%95%8F%E3%80%91%E5%88%9D%E5%BF%83%E8%80%85%E3%81%8B%E3%82%89%E4%B8%8A%E7%B4%9A%E8%80%85%E3%81%BE%E3%81%A7%EF%BC%81/#toc53)

<br>

---
# 02

辞書型（dictionary）を直接sortすることはできませんが、以下の方法で辞書のキーや値でソートすることができます：

1. キーでソートする場合：
```python:Practice/02.py
# ... existing code ...
sorted_by_keys = dict(sorted(a.items()))
# または特定の順序で結果を見たい場合：
sorted_items = sorted(a.items())  # タプルのリストとして取得
```

2. 値でソートする場合：
```python:Practice/02.py
# ... existing code ...
sorted_by_values = dict(sorted(a.items(), key=lambda x: x[1]))
```

説明：
- `sort()`はリストのメソッドで、辞書には使用できません
- `sorted()`関数を使用して、辞書の`items()`をソートします
- `key=lambda x: x[1]`を使用すると値でソートできます
- 結果を再び辞書に変換するには`dict()`を使用します

例えば、値でソートした結果は以下のようになります：
```python
# 結果
{'banana': 2, 'apple': 5, 'cherry': 8}
```

## [補足] `lambda x: x[1]` の説明

このコードは辞書をその値に基づいてソートしています。`key=lambda x: x[1]`の部分は、ソートの基準を指定するためのものです。以下に詳しく説明します：

1. `lambda x: x[1]`は、各要素の2番目の項目（値）を返す小さな関数です[1][4]。

2. `x`は辞書の各項目（キーと値のペア）を表します。

3. `x[1]`は、そのペアの2番目の要素、つまり値を指します[2]。

   - 例：`("apple", 5)`というペアでは、`x`は"apple"（キー）、`x[1]`は5（値）になります。

4. `sorted()`関数は、この`lambda`関数を使って各項目の値（数字）を比較し、小さい順に並べ替えます[3]。

つまり、このコードは辞書`a`の項目を、値（数字）の小さい順に並べ替えて新しい辞書を作成します。結果は以下のようになります：

```python
{'banana': 2, 'apple': 5, 'cherry': 8}
```

この方法を使うと、辞書の値に基づいて簡単にソートすることができます[5]。

<br>
<br>

---
# 03

このコードは、リスト `a` の数字の出現頻度を辞書で返します。

ここで、コードを説明していきます。

1. `return {num: a.count(num) for num in a}`: ここで、次のことを行います。
 * `for num in a`: ここで、リスト `a` の各数字を `num` という変数に代入します。
 * `a.count(num)`: ここで、リスト `a` に `num` という数字が何回出現したかを調べます。
 * `{num: ...}`: ここで、結果を辞書で返します。`num` というキーに、前のステップで取得した値を設定します。
2. `print(num2freq(a))`: ここで、`num2freq` 関数を呼び出し、リスト `a` の数字の出現頻度を出力します。

例えば、リスト `a = [1, 2, 3, 1, 2, 1, 4, 5, 2]` の場合、次のようになります。

* `num = 1` の場合、`a.count(num)` は `3` を返します。つまり、リスト `a` に `1` という数字が 3 回出現したことになります。
* `num = 2` の場合、`a.count(num)` は `3` を返します。つまり、リスト `a` に `2` という数字が 3 回出現したことになります。
* `num = 3` の場合、`a.count(num)` は `1` を返します。つまり、リスト `a` に `3` という数字が 1 回出現したことになります。
* `num = 4` の場合、`a.count(num)` は `1` を返します。つまり、リスト `a` に `4` という数字が 1 回出現したことになります。
* `num = 5` の場合、`a.count(num)` は `1` を返します。つまり、リスト `a` に `5` という数字が 1 回出現したことになります。

最終的に、`num2freq` 関数は次の値を返します。

```python
{1: 3, 2: 3, 3: 1, 4: 1, 5: 1}
```

これは、リスト `a` の数字の出現頻度を表しています。

<br>
<br>

---
# 05

AとBのJaccard係数を計算するには、次の手順を実行します。

1. AとBの積集合を計算します。積集合は、AとBの両方に含まれる要素の集合です。

- A ∩ B = {“apple”, “cherry”}

2. AとBの和集合を計算します。和集合は、AとBの両方に含まれる要素の集合です。

- A ∪ B = {“apple”, “banana”, “cherry”, “orange”}

3. AとBの積集合の要素数を計算します。

- |A ∩ B| = 2

4. AとBの和集合の要素数を計算します。

- |A ∪ B| = 4

5. Jaccard係数を計算します。

Jaccard係数 = |A ∩ B| / |A ∪ B| = 2 / 4 = 0.5

したがって、AとBのJaccard係数は0.5です。

---

```python:Practice/05.py
def jaccard(a, b):
    return len(a & b) / len(a | b)

A = {"apple", "banana", "cherry"}
B = {"apple", "cherry", "orange"}
print(f"A & B : {len(A & B)}: {A & B}")
print(f"A | B : {len(A | B)}: {A | B}")
print(f"Jaccard係数 = |A ∩ B| / |A ∪ B| = {len(A & B)} / {len(A | B)} = {jaccard(A, B)}")
```

この値は、AとBの両方に含まれる要素の割合を表しています。


`len(a & b)` と `len(a | b)` は、集合 `a` と `b` の積集合と和集合の要素数を表します。

* `a & b` は集合 `a` と `b` の積集合を表します。積集合は、集合 `a` と `b` の両方に含まれる要素の集合です。`len(a & b)` は、積集合の要素数を表します。
* `a | b` は集合 `a` と `b` の和集合を表します。和集合は、集合 `a` と `b` の両方に含まれる要素の集合です。`len(a | b)` は、和集合の要素数を表します。

このコードでは、`len(a & b)` と `len(a | b)` は、次の式を評価するために使用されています。

`Jaccard係数 = |A ∩ B| / |A ∪ B| = len(A & B) / len(A | B)`

この式は、集合 `A` と `B` のJaccard係数を計算します。Jaccard係数は、積集合の要素数を和集合の要素数で割った値です。

`len(a & b)` と `len(a | b)` は、次の値を表します。

* `len(A & B) = 2` (積集合の要素数)
* `len(A | B) = 4` (和集合の要素数)

したがって、Jaccard係数は次のようになります。

`Jaccard係数 = len(A & B) / len(A | B) = 2 / 4 = 0.5`

この結果は、集合 `A` と `B` の積集合が 2 つの要素、和集合が 4 つの要素、Jaccard係数が 0.5 であることを示しています。
